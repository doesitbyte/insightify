version: "2"
name: "Forge"
description: "Provides insights based on customer feedback"

# This is the name displayed in DevRev where the Snap-In takes actions using the token of this service account.
service_account:
  display_name: Forge Snap-in

tags:
  - name: test_tag1
    description: "This is test tag 1"
  - name: test_tag2
    description: "This is test tag 2"

inputs:
  organization:
    - name: default_part_id
      description: "Default part under which to create tickets."
      field_type: id
      id_type:
        - product
        - capability
        - feature
        - enhancement
      is_required: true
      default_value: "don:core:dvrv-us-1:devo/xxx:product/xxx"
      ui:
        display_name: Default Part
    - name: default_owner_id
      description: "Default owner of the tickets."
      field_type: id
      id_type:
        - devu
      is_required: true
      default_value: "don:identity:dvrv-us-1:devo/xxx:devu/xxx"
      ui:
        display_name: Default Owner

commands:
  - name: product_review
    namespace: forge
    description: Generates insights from multiple voice channels for given product
    surfaces:
      - surface: discussions
        object_types:
          - snap_in
    usage_hint: "/product_review [name of the product]"
    function: product_review
  - name: help
    namespace: forge
    description: Details on available slash commands
    surfaces:
      - surface: discussions
        object_types:
          - snap_in
    usage_hint: "/help"
    function: help
  - name: company_review
    namespace: forge
    description: Generates insights from multiple voice channels for given company
    surfaces:
      - surface: discussions
        object_types:
          - snap_in
    usage_hint: "/company_review [name of the company]"
    function: company_review

functions:
  - name: product_review
    description: Generates insights from multiple voice channels for given product and creates tickets for each insight
  - name: help
    description: Function to return help details
  - name: company_review
    description: Generates insights from multiple voice channels for given company and creates tickets for each insight
